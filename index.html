<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="google-site-verification" content="dpSAoGMlm3s0Tnk7cwxmFUjMJo0Jr29okSScq8FahWU" />
  <title>Send and Receive Anonymous Notes Online | ShareANote</title>
  <meta name="description" content="ShareANote lets you send and receive anonymous notes online securely and privately. No login, no tracking—just a safe place to share messages anonymously." />
  <meta property="og:title" content="Send and Receive Anonymous Notes Online | ShareANote" />
  <meta property="og:description" content="ShareANote lets you send and receive anonymous notes online securely and privately. No login, no tracking—just a safe place to share messages anonymously." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.shareanote.com" />
  <meta property="og:image" content="https://www.shareanote.com/share-image.png" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Send and Receive Anonymous Notes Online | ShareANote" />
  <meta name="twitter:description" content="ShareANote lets you send and receive anonymous notes online securely and privately. No login, no tracking—just a safe place to share messages anonymously." />
  <meta name="twitter:image" content="https://www.shareanote.com/share-image.png" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    /* CSS trimmed for brevity */
  </style>
</head>
<body>
  <header>
    <h1>Share a Note</h1>
    <p class="subtitle">Send or receive anonymous notes. No login. Just human connection.</p>
    <textarea placeholder="Write your anonymous note here..." id="noteInput"></textarea><br />
    <div class="button-group">
      <button id="sendBtn">Send Note</button>
      <button id="receiveBtn">Receive Note</button>
    </div>
    <div><a href="#about" class="about-link">Learn more about ShareANote</a></div>
  </header>

  <div id="popup" class="popup">
    <h3>Anonymous Note Received:</h3>
    <p id="popupContent"></p>
    <button onclick="document.getElementById('popup').style.display='none'">Close</button>
  </div>

  <section id="about">
    <h2>About ShareANote - Anonymous Note Sharing Platform</h2>
    <p>ShareANote.com is a secure and anonymous online platform to send and receive notes privately.</p>
    <p>Whether you want to send anonymous encouragement, secret notes, or simple thoughts, ShareANote protects your privacy.</p>
  </section>
  <footer>&copy; 2025 ShareANote.com — All rights reserved.</footer>

  <script>
    const BACKEND_URL = 'https://shareanote-backend.onrender.com';
    const sendBtn = document.getElementById('sendBtn');
    const receiveBtn = document.getElementById('receiveBtn');
    const textarea = document.getElementById('noteInput');
    const popup = document.getElementById('popup');
    const popupContent = document.getElementById('popupContent');

    sendBtn.addEventListener('click', function(e) {
      const note = textarea.value.trim();
      if (!note) return alert("Please enter a note.");
      fetch(`${BACKEND_URL}/notes`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message: note })
      })
      .then(async res => {
        const data = await res.json();
        if (!res.ok) {
          alert(`Note rejected: ${data.status || 'Unknown error'}`);
          return;
        }
        alert("Note sent successfully!");
        textarea.value = '';
      })
      .catch(err => {
        alert("Error sending note.");
        console.error(err);
      });
    });

    receiveBtn.addEventListener('click', function() {
      fetch(`${BACKEND_URL}/notes/random`)
        .then(res => res.json())
        .then(data => {
          popupContent.textContent = data.message || "No note found.";
          popup.style.display = 'block';
        })
        .catch(err => {
          popupContent.textContent = "Failed to retrieve note.";
          popup.style.display = 'block';
          console.error(err);
        });
    });

    function isInViewport(element) {
      const rect = element.getBoundingClientRect();
      return rect.top <= (window.innerHeight || document.documentElement.clientHeight) * 0.9;
    }
    const aboutSection = document.getElementById('about');
    function checkFadeIn() {
      if (isInViewport(aboutSection)) {
        aboutSection.classList.add('visible');
        window.removeEventListener('scroll', checkFadeIn);
      }
    }
    window.addEventListener('scroll', checkFadeIn);
    checkFadeIn();
  </script>
</body>
</html>
